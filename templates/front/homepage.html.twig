{% extends "front/layout/layout.html.twig" %}

{% block javascripts %}
{{ encore_entry_script_tags('home') }}
{% endblock %}

{% block body %}
{% include "front/layout/header.html.twig" %}
<section id="home">
    <main>
        <h2>Make your feed aggregator</h2>
        <h1>Vortex Feed Aggregator</h1>
        <p>A feed aggregator is a type of software that brings together various types of Web content and provides it in
            an easily accessible list.</p>
        <a class="home_button" href="{{ path('dashboard') }}">Discover</a>
        <div>
            <img src="{{ asset('build/images/dashboard.png') }}" alt="">
        </div>
    </main>
    <section id="banner">
        <div class="banner_box"></div>
        <div class="banner_content">
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/the_verge.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/zdnet_logo.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/cnet.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/mashable.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/new_york_times_technology.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/techcrunch.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/the_verge.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/zdnet_logo.png') }}" alt="">
            </div>
        </div>
        <div class="banner_content">
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/the_verge.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/zdnet_logo.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/cnet.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/mashable.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/new_york_times_technology.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/techcrunch.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/the_verge.png') }}" alt="">
            </div>
            <div class="icon_box">
                <img src="{{ asset('build/images/icons/rss/zdnet_logo.png') }}" alt="">
            </div>
        </div>
    </section>
    {# <section id="presentation">
        <div>
            <img src="{{ asset('build/images/logos/logo.svg') }}" alt="">
        </div>
    </section> #}
    <section id="frame">
        <div class='frame_container'>
            <div class='frame_box'>
                {% for frame in frames %}
                <img src="{{ asset(frame.src) }}" onclick="handleClick({{ frame.id }})"
                    class="{% if selectedPart.id == frame.id %}active{% else %}{% endif %}" />
                {% endfor %}
            </div>
            <div class='frame_info'>
                {% for frame in frames %}
                <div class='info{{ frame.id }} {% if selectedPart.id == frame.id %}active{% endif %}'>
                    <h3><i class='{{ frame.class }}'></i>{{ frame.title }}</h3>
                    <p>{{ frame.text }}</p>
                    <p>{{ frame.description }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    <script>
        function handleClick(id) {
            const frameInfo = document.querySelector('.info' + id);
            const frameInfos = document.querySelectorAll('.frame_info > div');

            frameInfos.forEach(function (info) {
                info.classList.remove('active');
            });

            frameInfo.classList.add('active');
        }
    </script>

    {% if feedArticles %}
    <section id="slider">
        <div class="carousel_container">
            <div class="carousel_items">
            {% for article in feedArticles|slice(0, 4) %}
                <div class="carousel_item">
                    <a href="{{ article.link }}">
                        <img src="{{ article.media ?? 'build/images/icons/favicon.png' }}" alt="{{ article.title  }}" />
                        <div class="carousel_info">
                        <h3>{{ article.title }}</h3>
                        {# <p>{{ article.content }}</p> #}
                        </div>
                    </a>
                </div>
            {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}


    {# <span class="loader"></span> #}
</section>
{% include "front/layout/footer.html.twig" %}
{% endblock %}