{% extends "front/layout/layout.html.twig" %}

{% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
{% endblock %}
{% block javascripts %}
    {{ encore_entry_script_tags('app') }}
{% endblock %}

{% block body %}
  {% include "front/user/header.html.twig" %}
    <section id="sidebar">
      <aside class="aside" role="banner">
        <h1 class="logo">
          <a href="{{ path('home') }}">Vortex <span>Flux</span></a>
        </h1>
        <div class="nav-wrap">
          <nav class="main-nav" role="navigation">
            <ul class="unstyled list-hover-slide">
              <li><a href="#"><i class="fa-solid fa-user"></i> <span>My feed</span></a></li>
              <li><a href="#"><i class="fa-brands fa-hotjar"></i> <span>Popular</span></a></li>
              <li><a href="#"><i class="fa-solid fa-bookmark"></i> <span>Bookmarks</span></a></li>
              <li><a href="#"><i class="fa-solid fa-gear"></i> <span>Customize</span></a></li>
              <li><a href="#"><i class="fa-solid fa-rss"></i> <span>Blog</span></a></li>
            </ul>
          </nav>
        </div>
      </aside>
    </section>
    <section id="feed">
      <div class="feedToggle">
          {% for feed in feeds %}
          <div class="feedList">
            <span>{{ feed.name }}</span>
            <label class="switch">
            <input type="checkbox" checked>
            <span class="slider round"></span>
            </label>
          </div>
          {% endfor %}
      </div>
      <div class="feedContainer">
        {% for item in items %} {# |slice(1, 2) #}
          <div class="feedItem">
            <a href="{{ item.link }}" target="_blank">
              <div class="feedTitle">
                {{ item.title }}
              </div>
              <div class="feedImage">
                <img src="{{ item.media['imageUrl'] ?? (asset('build/images/icons/favicon.png')) }}" alt="{{ item.title }}">
              </div>
              <div class="feedContent">
                <p>
                  {{ item.content|u.truncate(100, '...')|escape }}
                </p>
              </div>
              <div class="feedDate">
                {{ item.pubDate.format('Y-m-d H:i:s') }}
              </div>
              {# {% if item.children('media', true).count() > 0 %}
                <div class="feedImage">
                  <img src="{{ item.children('media', true).content.attributes.url }}" alt="{{ item.title }}">
                </div>
              {% else %}
                <div class="feedImage">
                  <img src="" alt="">
                </div>
              {% endif %}
              <div class="feedDescription">
                <li>{{ item.description|u.truncate(100, '...') }}</li>
              </div>
              <div class="feedDate">
                <li>{{ item.pubDate }}</li>
              </div> #}
            </a>
          </div>
        {% endfor %}
      </div>
    </section>
{% endblock %}